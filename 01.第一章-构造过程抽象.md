# 第一章  构造过程抽象

## 1.1 程序设计的基本元素

***

### 1.1.0

#### 程序设计中需要处理两类要素：过程和数据。

***

### 1.1.1  表达式

#### 前缀表示

将运算符放在所有运算对象的左边。

- 完全适用于可能带有任意个实参的过程

   `(+ 1 2 3 4)`
- 可以直接扩充，允许组合式嵌套

   `(+ (+ 1 2) (+ 3 4))`

#### 解释器运作方式

从终端读入一个表达式，对这个表达式求值，而后打印出得到的结果。

解释器运行在一个**读入-求值-打印**循环中。

***

### 1.1.2 命名和环境

名字的标识符称为**变量**。变量的值就是它所对应的对象

 **define：** 允许用一个简单的名字去引用一个组合运算的结果。

#### 环境

解释器必须维护某种存储能力，以便保持有关的名字-值对偶的轨迹，这种存储被称为**环境**。

***

### 1.1.3 组合式的求值

#### 解释器的工作过程：

*求值一个组合式*

1. 求值该组合式的各个子表达式

2. 将运算符作用于相应的实际参数

> *例：*
>
> `(+ (+ 1 2) (+ 3 4))`
>
> 首先求值`(+ 1 2)`得**3**和`(+ 3 4)`得**7**，
>
> 然后求值`(+ 3 7)`

#### 树形积累

用树形表示组合式的求值过程。

#### 特殊形式

每个特殊形式都有其滋生的求值规则。

`(define x 1)`

***

### 1.1.4 复合过程

#### 过程
> 定义：
>``` lisp
> (define (<name> <formal parameters>) <body>)
> (define (<函数名> <参数>) <函数体>)
>
> (define (square x) (* x x))
>```
***

### 1.1.5 过程应用的代换模型

#### 代换模型

> **过程**
>
> $(a+1)^2+(2a)^2$
>
> ``` lisp
> (define (square x) (* x x))
> ```
>
> ``` lisp
> (define (sum-of-squares x y)
>                       (+ (square x) (square y)))
>```
> ``` lisp
> (define (f a)
>        (sum-of-squares (+ a 1) (* a 2)))
> ```

> 代换过程：
>
> **应用序**：`先求值参数而后应用`
>
> 1. (f 5)
>
> 2. (sum-of-squares (+ a 1) (* a 2))
>
> 3. (sum-of-squares (+ 5 1) (* 5 2))
>
> 4. (sum-of-squares (6 10))
>
> 5. (+ (square 6) (square 10))
>
> 6. (+ (* 6 6) (* 10 10))
>
> 7. (+ 36 100)
>
> 8. 136
>
> **正则序**：`完全展开而后归约`
>
> *展开：*
>
> 1. (f 5)
>
> 2. (sum-of-squares (+ 5 1) (* 5 2))
>
> 3. (+ (square (+ 5 1)) (square (* 5 2)))
>
> 4. (+ (* (+ 5 1) (+ 5 1)) (* (* 5 2) (* 5 2)))
>
> *归约:*
>
> 5. (+ (* 6 6) (* 10 10))
>
> 6. (+ 36 100)
>
> 7. 136

***

### 1.1.6 条件表达式和谓词

#### 条件表达式

> 定义：
>``` lisp
> (cond (<p1> <e1>)
>       (<p2> <e2>)
>       ...
>       (<pn> <en>))
>```
> \<pn\> 谓词

#### 谓词：返回真或假的过程

> `> 、 <、 =`
>
> `(and <e1> <e2> ... <en>)`
>
> `(or <e1> <e2> ... <en>)`
>
> `(not <e>)`

#### if

> 定义：
>``` lisp
> (if <predicate> <consequent> <alternative>)
>```